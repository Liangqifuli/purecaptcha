<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaptchaUtil 前端工具类使用示例</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 24px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #e1e4e8;
        }
        
        .header h1 {
            font-size: 24px;
            color: #24292e;
            margin-bottom: 8px;
        }
        
        .header p {
            color: #6a737d;
            font-size: 14px;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .demo-card {
            background: white;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #e1e4e8;
        }
        
        .demo-card h2 {
            font-size: 18px;
            font-weight: 600;
            color: #24292e;
            margin-bottom: 16px;
        }
        
        .code-block {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
            margin-top: 20px;
        }
        
        .code-block pre {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 12px;
            color: #24292e;
            overflow-x: auto;
        }
        
        .btn {
            padding: 10px 16px;
            border: 1px solid #d1d5da;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #2ea44f;
            color: white;
            border-color: #2ea44f;
        }
        
        .btn-primary:hover {
            background: #2c974b;
        }
        
        .info-box {
            background: #f1f8ff;
            border: 1px solid #c8e1ff;
            padding: 12px 16px;
            border-radius: 6px;
            margin-top: 16px;
            font-size: 14px;
            color: #0366d6;
        }
        
        .success-box {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 12px 16px;
            border-radius: 6px;
            margin-top: 16px;
            font-size: 14px;
            color: #155724;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 CaptchaUtil 前端工具类使用示例</h1>
            <p>一个通用的验证码前端工具类，支持5种验证码类型，开箱即用</p>
        </div>

        <div class="demo-grid">
            <!-- 字符验证码 -->
            <div class="demo-card">
                <h2>1. 字符验证码</h2>
                <div id="captcha-alphanumeric"></div>
                <div class="info-box">
                    包含大小写字母和数字的验证码
                </div>
            </div>

            <!-- 算术验证码 -->
            <div class="demo-card">
                <h2>2. 算术验证码</h2>
                <div id="captcha-arithmetic"></div>
                <div class="info-box">
                    简单的加减法运算
                </div>
            </div>

            <!-- 中文验证码 -->
            <div class="demo-card">
                <h2>3. 中文验证码</h2>
                <div id="captcha-chinese"></div>
                <div class="info-box">
                    常用汉字验证码
                </div>
            </div>

            <!-- GIF动图验证码 -->
            <div class="demo-card">
                <h2>4. GIF动图验证码</h2>
                <div id="captcha-gif"></div>
                <div class="info-box">
                    动态效果的字符验证码
                </div>
            </div>

            <!-- 滑动拼图验证码 -->
            <div class="demo-card" style="grid-column: span 2;">
                <h2>5. 滑动拼图验证码</h2>
                <div id="captcha-slider"></div>
                <div class="info-box">
                    拖动滑块完成拼图，支持智能验证算法
                </div>
            </div>
        </div>

        <!-- 使用文档 -->
        <div class="demo-card">
            <h2>📖 使用文档</h2>
            
            <h3 style="font-size: 16px; margin-top: 20px; margin-bottom: 12px; color: #24292e;">基本使用</h3>
            <div class="code-block">
                <pre>// 1. 引入工具类
&lt;script src="captcha-util.js"&gt;&lt;/script&gt;

// 2. 创建验证码实例
const captcha = new CaptchaUtil({
    container: '#captcha-container',  // 容器选择器
    apiBaseUrl: '/api/captcha',       // API基础URL
    type: 'ARITHMETIC',               // 验证码类型
    onSuccess: (result) => {
        console.log('验证成功', result);
    },
    onError: (error) => {
        console.log('验证失败', error);
    }
});

// 3. 生成验证码
captcha.generate();</pre>
            </div>

            <h3 style="font-size: 16px; margin-top: 20px; margin-bottom: 12px; color: #24292e;">支持的验证码类型</h3>
            <div class="code-block">
                <pre>// ALPHANUMERIC - 字符验证码
// ARITHMETIC   - 算术验证码
// CHINESE      - 中文验证码
// ANIMATED_GIF - GIF动图验证码
// SLIDER       - 滑动拼图验证码</pre>
            </div>

            <h3 style="font-size: 16px; margin-top: 20px; margin-bottom: 12px; color: #24292e;">配置选项</h3>
            <div class="code-block">
                <pre>const options = {
    container: '#captcha-container',  // 必填：容器选择器
    apiBaseUrl: '/api/captcha',       // 可选：API地址（默认：/api/captcha）
    type: 'ALPHANUMERIC',             // 可选：验证码类型（默认：ALPHANUMERIC）
    width: 200,                       // 可选：宽度（默认：200）
    height: 80,                       // 可选：高度（默认：80）
    onSuccess: (result) => {},        // 可选：验证成功回调
    onError: (error) => {},           // 可选：验证失败回调
    onGenerate: (data) => {}          // 可选：生成成功回调
};</pre>
            </div>

            <h3 style="font-size: 16px; margin-top: 20px; margin-bottom: 12px; color: #24292e;">API方法</h3>
            <div class="code-block">
                <pre>captcha.generate()         // 生成验证码
captcha.verify(answer)     // 验证答案（普通验证码）
captcha.verifySlider(x)    // 验证位置（滑动验证码）
captcha.getCaptchaId()     // 获取验证码ID
captcha.getCaptchaData()   // 获取验证码数据
captcha.destroy()          // 销毁实例</pre>
            </div>

            <div class="success-box" style="margin-top: 20px;">
                ✅ 所有验证码已自动初始化并生成，可以直接测试验证功能！
            </div>
        </div>
    </div>

    <!-- 引入工具类 -->
    <script src="captcha-util.js"></script>
    
    <script>
        // 模拟API接口（实际使用时应替换为真实的后端接口）
        const mockApiBaseUrl = 'http://localhost:8080/api/captcha';

        // 1. 字符验证码
        const captchaAlphanumeric = new CaptchaUtil({
            container: '#captcha-alphanumeric',
            apiBaseUrl: mockApiBaseUrl,
            type: 'ALPHANUMERIC',
            onSuccess: (result) => {
                console.log('字符验证码验证成功', result);
            },
            onError: (error) => {
                console.log('字符验证码验证失败', error);
            }
        });
        captchaAlphanumeric.generate();

        // 2. 算术验证码
        const captchaArithmetic = new CaptchaUtil({
            container: '#captcha-arithmetic',
            apiBaseUrl: mockApiBaseUrl,
            type: 'ARITHMETIC',
            onSuccess: (result) => {
                console.log('算术验证码验证成功', result);
            },
            onError: (error) => {
                console.log('算术验证码验证失败', error);
            }
        });
        captchaArithmetic.generate();

        // 3. 中文验证码
        const captchaChinese = new CaptchaUtil({
            container: '#captcha-chinese',
            apiBaseUrl: mockApiBaseUrl,
            type: 'CHINESE',
            onSuccess: (result) => {
                console.log('中文验证码验证成功', result);
            },
            onError: (error) => {
                console.log('中文验证码验证失败', error);
            }
        });
        captchaChinese.generate();

        // 4. GIF动图验证码
        const captchaGif = new CaptchaUtil({
            container: '#captcha-gif',
            apiBaseUrl: mockApiBaseUrl,
            type: 'ANIMATED_GIF',
            onSuccess: (result) => {
                console.log('GIF验证码验证成功', result);
            },
            onError: (error) => {
                console.log('GIF验证码验证失败', error);
            }
        });
        captchaGif.generate();

        // 5. 滑动拼图验证码
        const captchaSlider = new CaptchaUtil({
            container: '#captcha-slider',
            apiBaseUrl: mockApiBaseUrl,
            type: 'SLIDER',
            onSuccess: (result) => {
                console.log('滑动验证码验证成功', result);
            },
            onError: (error) => {
                console.log('滑动验证码验证失败', error);
            }
        });
        captchaSlider.generate();
    </script>
</body>
</html>

